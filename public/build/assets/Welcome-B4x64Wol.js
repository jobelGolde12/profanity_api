import{a as C,r as u,j as e,H as I}from"./app-BLFXtAba.js";import{G as $}from"./GuestLayout-BCe8XX7x.js";function T(){const{api:H}=C().props,[f,x]=u.useState({title:"No API Selected",data:[]}),[j,p]=u.useState(!1),[g,h]=u.useState(""),[N,k]=u.useState(""),[w,S]=u.useState(0);function A(l){let c;try{c=JSON.parse(l)}catch{return o(l)}const t="  ";function o(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const r=(s,d,a=!1)=>`<span style="color:${s};${a?"font-weight:bold;":""}">${d}</span>`,n={lbrace:r("blue","{",!0),rbrace:r("blue","}",!0),lbracket:r("darkgreen","[",!0),rbracket:r("darkgreen","]",!0),colon:r("brown",":",!0),comma:r("white",",")};function m(s,d){if(s===null)return r("gray","null");if(Array.isArray(s)){if(s.length===0)return n.lbracket+n.rbracket;let a=n.lbracket+`
`;for(let i=0;i<s.length;i++)a+=t.repeat(d+1)+m(s[i],d+1),i<s.length-1&&(a+=n.comma),a+=`
`;return a+=t.repeat(d)+n.rbracket,a}switch(typeof s){case"object":{const a=Object.keys(s);if(a.length===0)return n.lbrace+n.rbrace;let i=n.lbrace+`
`;return a.forEach((y,P)=>{const E=r("brown",`"${o(y)}"`);i+=t.repeat(d+1)+E+" "+n.colon+" "+m(s[y],d+1),P<a.length-1&&(i+=n.comma),i+=`
`}),i+=t.repeat(d)+n.rbrace,i}case"string":return r("darkorange",`"${o(s)}"`);case"number":return r("darkorange",String(s));case"boolean":return r("blueviolet",String(s));default:return o(String(s))}}return m(c,0)}const b=async l=>{if(p(!1),h(""),l==="pure"){const c="Pure Filipino Bad Words",t="/api/profanity/filipino";try{console.log("Fetching:",t);const o=await fetch(t);if(!o.ok)throw new Error("Network response was not ok");const r=await o.json();S(o.status),x({title:c,data:r}),h(t),p(!0)}catch(o){console.error(" Fetch failed:",o)}}else if(l==="regional"){const c="Regional Profanity Words";try{const t="/api/profanity/regional",o=await fetch(t);if(!o.ok)throw new Error("Network response was not ok");const r=await o.json();x({title:c,data:r}),h(t),p(!0)}catch(t){console.error(" Fetch failed:",t)}}else if(l==="both"){const c="Pure Filipino + Regional Bad Words";try{const t="/api/profanity/combined",o=await fetch(t);if(!o.ok)throw new Error("Network response was not ok");const r=await o.json();x({title:c,data:r}),h(t),p(!0)}catch(t){console.error(" Fetch failed:",t)}}},F=()=>{g&&navigator.clipboard.writeText(g).then(()=>alert("Copied!"))};return u.useEffect(()=>{const l=JSON.stringify(f.data||[],null,2);k(A(l))},[f]),e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx(I,{title:"Profanity API"}),e.jsxs($,{children:[e.jsxs("div",{className:"text-center my-8",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:[e.jsx("span",{className:"text-green-600",children:"Free"})," Filipino Profanity API"]}),e.jsx("p",{className:"text-gray-500",children:"Click any option below to fetch JSON data:"})]}),e.jsx("div",{className:"max-w-xl mx-auto bg-white rounded-lg shadow p-4",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>b("pure"),className:"w-full text-left p-3 border-l-4 border-blue-500 rounded hover:bg-gray-100 font-semibold",children:["/pure Filipino profanity"," ",e.jsx("span",{className:"text-gray-500",children:"(Pota, Buwisit)"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>b("regional"),className:"w-full text-left p-3 border-l-4 border-green-500 rounded hover:bg-gray-100 font-semibold",children:["/regional profanity"," ",e.jsx("span",{className:"text-gray-500",children:"(Ukinnam, Yawa)"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>b("both"),className:"w-full text-left p-3 border-l-4 border-yellow-500 rounded hover:bg-gray-100 font-semibold",children:["/pure Filipino and regional"," ",e.jsx("span",{className:"text-gray-500",children:"(Both)"})]})})]})}),j&&e.jsxs("div",{className:"max-w-4xl mx-auto mt-4 px-4 py-3 bg-white border rounded flex justify-between items-center shadow",children:[e.jsx("span",{className:"text-back font-bold border-r border-gray-700 pe-2",children:"GET"}),e.jsx("span",{className:"truncate",children:`http://${window.location.hostname}:8000${g}`}),e.jsx("button",{onClick:F,className:"border px-3 py-1 rounded text-sm",children:"Copy"})]}),e.jsx("div",{className:"mx-auto mt-4 px-4 w-[85%] overflow-scroll",style:{maxHeight:"70vh"},children:e.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded shadow",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:f.title}),w?e.jsx("div",{children:e.jsxs("h5",{children:["Status: ",e.jsx("span",{children:w||"N/A"})]})}):e.jsx(e.Fragment,{})]}),e.jsx("pre",{className:"whitespace-pre-wrap",style:{background:"#1e1e1e",color:"#d4d4d4",padding:"10px",borderRadius:"6px",overflowX:"auto"},dangerouslySetInnerHTML:{__html:N}})]})})]})]})}export{T as default};
